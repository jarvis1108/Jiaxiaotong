global.webpackJsonp([17],{

/***/ 182:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(183);



var app = new __WEBPACK_IMPORTED_MODULE_0_vue___default.a(__WEBPACK_IMPORTED_MODULE_1__index__["a" /* default */]);
app.$mount();
/* harmony default export */ __webpack_exports__["default"] = ({
  config: {
    navigationBarTitleText: '知识练兵场'
  }
});

/***/ }),

/***/ 183:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_mpvue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(185);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_mpvue_loader_lib_template_compiler_index_id_data_v_6915e87a_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_mpvue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(186);
var disposed = false
function injectStyle (ssrContext) {
  if (disposed) return
  __webpack_require__(184)
}
var normalizeComponent = __webpack_require__(0)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-6915e87a"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_mpvue_loader_lib_selector_type_script_index_0_index_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_mpvue_loader_lib_template_compiler_index_id_data_v_6915e87a_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_mpvue_loader_lib_selector_type_template_index_0_index_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)
Component.options.__file = "src\\pages\\exercise\\index.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key.substr(0, 2) !== "__"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-6915e87a", Component.options)
  } else {
    hotAPI.reload("data-v-6915e87a", Component.options)
  }
  module.hot.dispose(function (data) {
    disposed = true
  })
})()}

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),

/***/ 184:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 185:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_wx__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_cut_down__ = __webpack_require__(43);



//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["a"] = ({
  components: {
    cutdown: __WEBPACK_IMPORTED_MODULE_4__components_cut_down__["a" /* default */]
  },
  name: "index.vue",
  data: function data() {
    return {
      indexList: [{ index: 1, isRight: 0 }, //isRight标记该题是否答对，0-未答，-1答错，1-答对
      { index: 2, isRight: 0 }, { index: 3, isRight: 0 }, { index: 4, isRight: 0 }, { index: 5, isRight: 0 }, { index: 6, isRight: 0 }, { index: 7, isRight: 0 }, { index: 8, isRight: 0 }, { index: 9, isRight: 0 }, { index: 10, isRight: 0 }], //题号列表
      questionList: [{
        questionIndex: 0,
        questionTitle: "",
        rightAnswer: "",
        userAnswer: "",
        choiceList: [],
        analysis: "",
        source: "",
        knowledge: ""
      }], //问题列表
      questionIndex: 1, //题号
      userAnswer: "", //用户选择选项
      rightAnswer: "", //正确选项
      contentAni: "", //为题目卡片增加动画
      anserResult: [], //记录答题结果作为参数传递给结果页，回答正确压入1，错误压入-1，同时压入用户答案
      destroyCutdown: false //是否销毁计时器，传递给子组件
    };
  },
  onLoad: function onLoad() {
    var _this = this;

    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee() {
      var i;
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              //初始化数据
              _this.questionIndex = 1;
              _this.userAnswer = "";
              _this.rightAnswer = "";
              _this.contentAni = "";
              _this.anserResult = [];
              for (i = 0; i < 10; ++i) {
                _this.indexList[i] = {
                  index: i + 1,
                  isRight: 0
                };
              }

              _context.next = 8;
              return _this.$store.dispatch("getQuestionList", 10);

            case 8:
              _this.questionList = _context.sent;

              _this.setDefaultChoiceStyle();
              __WEBPACK_IMPORTED_MODULE_3__utils_wx__["a" /* default */].showShareMenu(true);

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, _this);
    }))();
  },

  methods: {
    //选项的点击事件
    optionClick: function optionClick(selected) {
      this.userAnswer = selected.label;
      this.questionList[this.questionIndex - 1].userAnswer = selected.label;
      this.rightAnswer = this.questionList[this.questionIndex - 1].rightAnswer;

      this.setChoiceStyle(selected);
    },


    // 默认的选项样式
    setDefaultChoiceStyle: function setDefaultChoiceStyle() {
      this.questionList[this.questionIndex - 1].choiceList.forEach(function (item) {
        item.img = "/static/images/exercise/Optionbox@2x.png";
      });
    },


    //根据用户选择设置选项样式
    setChoiceStyle: function setChoiceStyle(selected) {
      var _this2 = this;

      //判断用户选择是否正确并显示效果
      if (this.userAnswer === this.rightAnswer) {
        //用户答对
        selected.isRight = 1;
        selected.img = "/static/images/exercise/Checktheoptionbox@2x.png";
        selected.style = "correctChoice";
        //将该题标为答对，并压入结果数组
        this.indexList[this.questionIndex - 1].isRight = 1;
        this.anserResult.push(1);
      } else {
        //用户答错
        if (selected) {
          //selected不为空，说明用户选错
          selected.isRight = -1;
          selected.img = "/static/images/exercise/Erroroption-bg@2x.png";
          selected.style = "errorChoice";
        }
        this.questionList[this.questionIndex - 1].choiceList.forEach(function (item) {
          if (item.label === _this2.rightAnswer) {
            item.isRight = 1;
            item.img = "/static/images/exercise/Checktheoptionbox@2x.png";
          }
        });
        //将该题标为答错，并压入结果数组
        this.indexList[this.questionIndex - 1].isRight = -1;
        this.anserResult.push(-1);
      }
      //进入下一题，设置一个延迟时间来显示选项
      setTimeout(function () {
        if (_this2.questionIndex < _this2.questionList.length) {
          _this2.nextQuestion();
        } else {
          _this2.destroyCutdown = true;
          __WEBPACK_IMPORTED_MODULE_3__utils_wx__["a" /* default */].redirectTo("../exercise-result/main?answerResult=" + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this2.anserResult) + "&questionList=" + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this2.questionList));
        }
      }, 1000);
    },


    //下一题
    nextQuestion: function nextQuestion() {
      var _this3 = this;

      this.questionIndex += 1;
      this.contentAni = "rotate";
      setTimeout(function () {
        _this3.setDefaultChoiceStyle();
      }, 500);
      setTimeout(function () {
        _this3.contentAni = "";
      }, 1000);
    },


    //倒计时时间到
    cutDownOut: function cutDownOut() {
      //触发到时间到，表明用户未完成答题，直接标为答错
      //显示正确答案
      this.userAnswer = "";
      this.questionList[this.questionIndex - 1].userAnswer = "selected.label";
      this.rightAnswer = this.questionList[this.questionIndex - 1].rightAnswer;
      this.setChoiceStyle();
    }
  },

  onShareAppMessage: function onShareAppMessage() {
    return {
      title: "只有学霸才能征服的题目，快来看看吧！",
      path: "/page/index/main"
    };
  }
});

/***/ }),

/***/ 186:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "st-content-div"
  }, [_c('img', {
    staticClass: "st-img",
    attrs: {
      "src": "/static/images/bg@2x.png",
      "alt": ""
    }
  }), _vm._v(" "), _c('ul', {
    staticClass: "st-numberConternt-ul"
  }, _vm._l((_vm.indexList), function(item, index) {
    return _c('li', {
      key: item.index,
      staticClass: "st-numberList-li"
    }, [(item.isRight === 1) ? _c('div', {
      staticClass: "st-right-number-div"
    }, [_vm._v("\n            " + _vm._s(item.index) + "    \n            ")]) : (item.isRight === -1) ? _c('div', {
      staticClass: "st-false-number-div"
    }, [_vm._v("\n            " + _vm._s(item.index) + "    \n            ")]) : _c('div', {
      staticClass: "st-number-div"
    }, [_vm._v("\n            " + _vm._s(item.index) + "    \n            ")])])
  })), _vm._v(" "), _c('div', {
    staticClass: "st-questionCard-div",
    class: _vm.contentAni,
    attrs: {
      "id": "content",
      "eventid": '2'
    },
    on: {
      "touchstart": _vm.touchStart,
      "touchmove": _vm.touchMove,
      "touchend": _vm.touchEnd
    }
  }, [_c('img', {
    staticClass: "st-bg",
    attrs: {
      "src": "/static/images/exercise/subject-bg@2x.png",
      "alt": ""
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "st-time-div"
  }, [_c('cutdown', {
    staticClass: "st-bg",
    attrs: {
      "destroy": _vm.destroyCutdown,
      "order": _vm.questionIndex,
      "showOrder": false,
      "eventid": '0',
      "mpcomid": '0'
    },
    on: {
      "cutdownout": _vm.cutDownOut
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "st-questionTitle-div"
  }, [_c('span', [_vm._v("\n                " + _vm._s(_vm.questionList[_vm.questionIndex - 1].questionTitle) + "\n            ")])]), _vm._v(" "), _c('hr', {
    attrs: {
      "id": "hr"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "st-questionOption-div",
    attrs: {
      "id": "choiceList"
    }
  }, _vm._l((_vm.questionList[_vm.questionIndex - 1].choiceList), function(choice, index) {
    return _c('div', {
      key: choice,
      staticClass: "choice",
      attrs: {
        "id": 'choice' + choice.label,
        "eventid": '1-' + index
      },
      on: {
        "click": function($event) {
          _vm.optionClick(choice)
        }
      }
    }, [_c('img', {
      key: choice,
      staticClass: "choice_img",
      attrs: {
        "src": choice.img
      }
    }), _vm._v(" "), _c('span', {
      key: choice,
      staticClass: "choice_content",
      attrs: {
        "id": choice.style
      }
    }, [_vm._v(_vm._s(choice.label) + "." + _vm._s(choice.content))]), _vm._v(" "), (choice.isRight === -1) ? _c('img', {
      staticClass: "errorIcon",
      attrs: {
        "src": "/static/images/exercise/Errorlabel@2x.png"
      }
    }) : _vm._e(), _vm._v(" "), (choice.isRight === 1) ? _c('img', {
      staticClass: "correctIcon",
      attrs: {
        "src": "/static/images/exercise/Correctlabel@2x.png"
      }
    }) : _vm._e()])
  }))], 1)], 1)
}
var staticRenderFns = []
render._withStripped = true
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-6915e87a", esExports)
  }
}

/***/ })

},[182]);
//# sourceMappingURL=main.js.map