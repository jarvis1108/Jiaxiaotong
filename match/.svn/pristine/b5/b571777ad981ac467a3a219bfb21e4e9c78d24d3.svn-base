/**
 * 请求对象
 * @param data
 * @constructor
 */
import store from '../store';

export function RequestObj(data) {
  this.reqID = getuuid();
  this.reqType = data.reqType;
  this.reqUserInfo = {
    openId:store.state.openId,
    token:store.state.token
  };
  this.reqParam = data.reqParam;
  this.reqRefData = data.reqRefData;
  this.pageInfo = {
    pageSize:data.pageSize,
    curPage:data.curPage
  };
}

/**
 * 用于生成uuid
 */
function randomNum4() {
  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
}
export function getuuid(){
  return (randomNum4()+randomNum4()+ '-' +randomNum4()+ '-' +randomNum4()+ '-' +randomNum4()+ '-' +randomNum4()+randomNum4()+randomNum4())
}

export default {RequestObj,getuuid}
