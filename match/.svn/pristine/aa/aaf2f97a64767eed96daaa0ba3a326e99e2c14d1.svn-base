{"version":3,"sources":["webpack:///./src/pages/friend-pk/main.js","webpack:///./src/pages/friend-pk/index.vue","webpack:///./src/pages/friend-pk/index.vue?20df","webpack:///src/pages/friend-pk/index.vue","webpack:///./src/components/friend-pk-waiting.vue","webpack:///./src/components/friend-pk-waiting.vue?55ec","webpack:///src/components/friend-pk-waiting.vue","webpack:///./src/components/friend-pk-waiting.vue?583a","webpack:///./src/pages/friend-pk/index.vue?ac83"],"names":["app","$mount","config","navigationBarTitleText"],"mappings":";;;;;;;;;;AAAA;AACA;;AAEA,IAAMA,MAAM,IAAI,2CAAJ,CAAQ,uDAAR,CAAZ;AACAA,IAAIC,MAAJ;AACA,+DAAe;AACbC,UAAQ;AACNC,4BAAwB;AADlB;AADK,CAAf,E;;;;;;;;;ACLA;AAAA;AACA;AACA;AACA,yBAAiZ;AACjZ;AACA;AACA;AACA;AACA;AACqP;AACrP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;AC3CA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGADA,EACA;AACA,8FAFA,EAEA;AACA,mFAHA,EAGA;AACA,gGAJA,CAIA;AAJA,GADA;AAOA,MAPA,kBAOA;AACA;AACA,kBADA,EACA;AACA,oBAFA,EAEA;AACA,iBAHA,EAGA;AACA,qBAJA,EAIA;AACA,cALA,EAKA;AACA,sBANA,EAMA;AACA,kBAPA,EAOA;AACA,kBARA,EAQA;AACA,sBATA,EASA;AACA,uBAVA,EAUA;AACA,2BAXA,EAWA;AACA,yBAZA,EAYA;AACA;AACA;AACA,kBAFA;AAGA;AAHA,OAbA;AAkBA;AACA,gBADA;AAEA;AAFA,OAlBA,EAqBA;AACA,oBAtBA,EAsBA;AACA,wBAvBA,EAuBA;AACA,sBAxBA,EAwBA;AACA,kBAzBA,CAyBA;AAzBA;AA2BA,GAnCA;AAoCA,QApCA,kBAoCA,MApCA,EAoCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AATA,mBAUA,cAVA;AAAA;AAAA;AAAA;;AAWA;AACA;AAZA;AAAA;;AAAA;AAAA;AAAA,qBAcA;AACA;AADA,gBAdA;;AAAA;AAcA,2BAdA;;AAiBA;;AAjBA;AAmBA;AACA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,GAzDA;;AA0DA;AACA,iBADA,2BACA;AACA;AACA,gBADA;AAEA;AAFA;AAIA,KANA;AAOA,YAPA,sBAOA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,EAMA,IANA;AAOA,KAfA;AAgBA,gBAhBA,0BAgBA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,EAMA,IANA;AAOA;AAxBA,GA1DA;AAoFA;AACA;AACA,eAFA,yBAEA;AACA;AACA,KAJA;;AAKA;AACA,eANA,yBAMA;AACA;AACA;AACA,KATA;;AAUA;AACA,gBAXA,0BAWA;AACA;AACA,KAbA;;AAcA;AACA,oBAfA,4BAeA,IAfA,EAeA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA,cArBA,wBAqBA;AAAA;;AACA;AACA;AACA,+HACA;AAFA;;AAMA;AACA;AACA,OAFA;;AAIA;AACA;AACA,OAFA;;AAIA;AACA;AACA;AACA,OAHA;AAIA,KAzCA;;AA0CA;AACA,kBA3CA,0BA2CA,GA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA,6CADA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA,KAxEA;;AAyEA;AACA,eA1EA,yBA0EA;AACA;AACA;AACA;AACA;AACA;AACA,+FADA;AAEA,0BAFA;AAGA;AACA;AADA,aAHA;AAMA;AANA;AADA;AAUA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FADA;AAEA,wBAFA;AAGA;AACA,mCADA;AAEA;AAFA,aAHA;AAOA;AAPA;AADA;AAWA;AACA,OAjBA,MAiBA;AACA;AACA;AACA;AACA,+FADA;AAEA,wBAFA;AAGA;AACA,mCADA;AAEA,iDAFA;AAGA,gDAHA;AAIA,gDAJA;AAKA;AALA,aAHA;AAUA;AAVA;AADA;AAcA;AACA;AA1HA,GApFA;AAgNA,mBAhNA,6BAgNA,GAhNA,EAgNA;AACA;AACA;AACA,qBADA;AAEA,wDAFA;AAGA,wEAHA;AAIA;AAJA;AAMA;AAxNA,G;;;;;;;;;AC3DA;AAAA;AACA;AACA;AACA,yBAA2Y;AAC3Y;AACA;AACA;AACA;AACA;AACkP;AAClP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;AC3CA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgEA;AACA;AACA;AACA;AACA,kBADA;AAEA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA,KALA;AASA;AACA,mBADA;AAEA;AAFA,KATA;AAaA;AACA,mBADA;AAEA;AAFA,KAbA;AAiBA;AACA,kBADA;AAEA;AAFA;AAjBA,GADA;AAuBA,MAvBA,kBAuBA;AACA;AACA,oBADA,EACA;AACA,oBAFA;AAGA,gBAHA;AAIA;AAJA;AAMA,GA9BA;AA+BA,QA/BA,oBA+BA;AACA;AACA;AACA,GAlCA;AAmCA,SAnCA,qBAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA1CA;;AA2CA;AACA,WADA,qBACA;AACA;AACA;AACA;AACA;AACA;AANA,GA3CA;AAmDA;AACA;AACA,aAFA,uBAEA;AACA;AACA,KAJA;AAKA,iBALA,2BAKA;AACA;AACA,KAPA;;AAQA;AACA,eATA,yBASA;AACA;AACA;AACA;AAZA,GAnDA;AAiEA;AACA;AACA,YAFA,sBAEA;AAAA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OAXA,EAWA,IAXA;AAYA,KAfA;;AAgBA;AACA,aAjBA,uBAiBA;AACA;AACA;AACA,KApBA;AAqBA,kBArBA,4BAqBA;AACA;AACA;AACA;AAxBA;AAjEA,G;;;;;;;;ACjEA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC,aAAa,0BAA0B;AAC3E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,cAAc,aAAa,0BAA0B;AACtD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;AC9LA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"static/js/pages/friend-pk/main.js","sourcesContent":["import Vue from 'vue'\nimport App from './index'\n\nconst app = new Vue(App)\napp.$mount();\nexport default {\n  config: {\n    navigationBarTitleText: '好友对战'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friend-pk/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cec56956\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cec56956\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cec56956\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\friend-pk\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-cec56956\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-cec56956\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/friend-pk/index.vue\n// module id = 189\n// module chunks = 3","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-cec56956\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/friend-pk/index.vue\n// module id = 190\n// module chunks = 3","<template>\n  <div class=\"st-battle-main-container\">\n    <friendWaiting\n      v-if=\"step === 'A'\"\n      :user=\"userInfo\"\n      :isCreator=\"isCreator\"\n      :friend=\"friendInfo\"\n      :matchId=\"matchId\"\n      :waitFriend=\"waitFriend\"\n      @waitTimeOut=\"waitTimeOut\"\n      @giveUpBattle=\"giveUpBattle\"\n      @beginBattle=\"startBattle\">\n    </friendWaiting>\n    \n    <friendReady\n      v-else-if=\"step === 'A-0'\"\n      :userInfo=\"userInfo\"\n      :opponentInfo=\"friendInfo\"\n      :close=\"sendMessage\">\n    </friendReady>\n\n    <battle\n      v-else-if=\"questionIndex < 6\"\n      :userInfo=\"userInfo\"\n      :userScore=\"userScore\"\n      :opponentAnswer=\"opponentAnswer\" \n      :opponentInfo=\"friendInfo\"\n      :question=\"question\"\n      :questionIndex=\"questionIndex\"\n      :nextQuestion=\"sendMessage\"\n      :waitUser=\"waitUser\"\n      :waitOpponent=\"waitOpponent\"\n      @userAnswered=\"changeUserAnswer\"\n      @cutdownout=\"cutDownOut\">\n    </battle>\n\n    <friendResult\n      v-else\n      :resultType=\"true\"\n      :userInfo=\"userInfo\"\n      :opponentInfo=\"friendInfo\"\n      :matchId=\"matchId\"\n      :userScore=\"userScore\"\n      :opponentScore=\"opponentScore\"\n      :userCorrectNum=\"userCorrectNum\"\n      :opponentCorrectNum=\"opponentCorrectNum\"\n      :userLearningPoit=\"userLearningPoit\">\n    </friendResult>\n  </div>\n</template>\n\n<script>\nimport friendWaiting from \"../../components/friend-pk-waiting.vue\";\nimport friendReady from \"../../components/battle-ready.vue\";\nimport battle from \"../../components/battle.vue\";\nimport friendResult from \"../../components/battle-result.vue\";\nimport wxs from \"../../utils/wx\";\nimport { socketUrl } from \"../../config\";\nimport { getuuid } from \"../../utils/RequestObj\";\nexport default {\n  components: {\n    friendWaiting, //等待页\n    friendReady, //准备页\n    battle, //对战页\n    friendResult //结果页\n  },\n  data() {\n    return {\n      userInfo: {}, //用户信息\n      friendInfo: {}, //对手信息\n      matchId: \"\", //战局id\n      isCreator: true, //当前用户是否是战局创建者\n      step: \"\", //标明战局状态，与返回消息类型匹配\n      questionIndex: 0, //题目序号\n      question: {}, //试题\n      userScore: 0, //用户分数\n      opponentScore: 0, //对手分数\n      userCorrectNum: 0, //用户答对题数\n      opponentCorrectNum: 0, //对手答对题数\n      userLearningPoit: 0, //用户消耗学点数\n      userAnswer: {\n        //用户单题的答案信息\n        answer: \"\",\n        timeLeft: \"\"\n      },\n      opponentAnswer: {\n        score: 0,\n        answer: \"\"\n      }, //对手单题的答案信息\n      waitUser: true, //等待用户答题\n      waitOpponent: true, //等待对手答题\n      waitFriend: true, //等待好友加入\n      socket: null //网络连接\n    };\n  },\n  async onLoad(option) {\n    //进入该页面则创建一个战局，又客户端生成战局Id\n    this.userInfo = this.$store.state.userInfo;\n    this.isCreator = parseInt(option.isCreator) === 1 ? true : false;\n    this.friendInfo = {};\n    this.step = \"A\";\n    this.waitFriend = true;\n    this.waitOpponent = true;\n    this.waitUser = true;\n    this.questionIndex = 0;\n    if (option.matchId) {\n      this.matchId = option.matchId;\n      console.log(\"拿到参数传递的战局id是：\" + this.matchId);\n    } else {\n      this.matchId = await this.$store.dispatch(\"createBattle\", {\n        battleType: 1\n      });\n      console.log(\"创建的战局id是：\" + this.matchId);\n    }\n    //建立webSocket\n    this.startMatch();\n  },\n  watch: {\n    questionIndex() {\n      this.opponentAnswer = {\n        score: 0,\n        answer: \"\"\n      };\n    },\n    waitUser() {\n      setTimeout(() => {\n        if (!this.waitUser && !this.waitOpponent) {\n          this.waitUser = true;\n          this.waitOpponent = true;\n          this.sendMessage();\n        }\n      }, 1000);\n    },\n    waitOpponent() {\n      setTimeout(() => {\n        if (!this.waitUser && !this.waitOpponent) {\n          this.waitUser = true;\n          this.waitOpponent = true;\n          this.sendMessage();\n        }\n      }, 1000);\n    }\n  },\n  methods: {\n    //发起者点击开始对战\n    startBattle() {\n      this.sendMessage();\n    },\n    //等待时间超时，销毁房间和对战id\n    waitTimeOut() {\n      wx.closeSocket();\n      wxs.navigateBack(0);\n    },\n    //用户/好友放弃对战\n    giveUpBattle() {\n      wxs.navigateBack(0);\n    },\n    //接收用户答题结果\n    changeUserAnswer(data) {\n      this.userAnswer = data;\n      this.userLearningPoit += 10 - data.timeLeft;\n      this.waitUser = false;\n      this.sendMessage();\n    },\n    startMatch() {\n      let that = this;\n      wx.connectSocket({\n        url: `${socketUrl}/pk?userId=${this.userInfo.userId}&matchId=${\n          this.matchId\n        }`\n      });\n\n      wx.onSocketOpen(res => {\n        console.log(\"连接已建立\");\n      });\n\n      wx.onSocketMessage(res => {\n        this.receiveMessage(res);\n      });\n\n      wx.onSocketClose(function(res) {\n        // 监听WebSocket关闭。\n          console.log(\"Websocket关闭\");\n      });\n    },\n    //接收服务器消息并处理\n    receiveMessage(res) {\n      var result = JSON.parse(res.data);\n      console.log(\"接收到服务器的消息:\" + res.data);\n      this.step = result.msgType;\n      if (result.msgType === \"A\") {\n        // 服务器返回消息类型为A，表示好友已进入,拿到好友信息\n        this.friendInfo = result.msgData.curData.friend;\n        this.waitFriend = false;\n        console.log(\"好友信息是：\" + JSON.stringify(this.friendInfo));\n      } else if (result.msgType === \"A-0\") {\n        console.log(\"开始对战\");\n      } else if (result.msgType === \"B\") {\n        console.log(\"拿到题目\");\n        this.question = result.msgData.curData.question;\n      } else if (result.msgType === \"C-1\") {\n        this.userScore += result.msgData.curData.score;\n        if (result.msgData.curData.score > 0) {\n          //用户答对\n          this.userCorrectNum += 1;\n        }\n      } else if (result.msgType === \"C-2\") {\n        this.opponentAnswer = {\n          score: result.msgData.curData.score,\n          answer: result.msgData.curData.answer\n        };\n        this.opponentScore += this.opponentAnswer.score;\n        if (this.opponentAnswer.score > 0) this.opponentCorrectNum += 1;\n        this.waitOpponent = false;\n      }\n    },\n    //根据战局状态像服务器端发送消息\n    sendMessage() {\n      console.log(\"sendMessage is called\" + this.waitUser + this.waitOpponent);\n      // 发起者点击开始对战\n      if (this.step === \"A\") {\n        wx.sendSocketMessage({\n          data: JSON.stringify({\n            msgID: getuuid(),\n            msgType: \"A-0\",\n            msgData: {\n              matchId: this.matchId\n            },\n            msgDesc: \"请求开始对战\"\n          })\n        });\n      } else if (this.waitUser && this.waitOpponent) {\n        console.log(\"发送消息，请求出题\");\n        //用户和对手都未答题时发送信息为请求题目\n        this.questionIndex += 1;\n        console.log(\"接下来请求的题号是：\" + this.questionIndex);\n        wx.sendSocketMessage({\n          data: JSON.stringify({\n            msgID: getuuid(),\n            msgType: \"A\",\n            msgData: {\n              matchId: this.matchId,\n              no: this.questionIndex\n            },\n            msgDesc: \"请求出题\"\n          })\n        });\n        console.log(\"请求出题消息已发送\");\n      } else if (!this.waitUser) {\n        //用户答题完毕，计算分数\n        wx.sendSocketMessage({\n          data: JSON.stringify({\n            msgID: getuuid(),\n            msgType: \"B\",\n            msgData: {\n              matchId: this.matchId,\n              correctAnswer: this.question.answer,\n              userAnswer: this.userAnswer.answer,\n              timeLeft: this.userAnswer.timeLeft,\n              no: this.questionIndex\n            },\n            msgDesc: \"请求计算当前分数和返回结果\"\n          })\n        });\n      }\n    }\n  },\n  onShareAppMessage(res) {\n    console.log(\"分享的战局id是：\" + this.matchId);\n    return {\n      title:\"最强学霸分享\",\n      desc: this.userInfo.wechatName + \"向你发出了智商pk，点击应战！\",\n      path: `/pages/index/main?matchId=${this.matchId}&isCreator=0`,\n      imageUrl:'/static/images/friendPk/share-bg.png'\n    };\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/friend-pk/index.vue?2bfde812","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50dbb60e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./friend-pk-waiting.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./friend-pk-waiting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50dbb60e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./friend-pk-waiting.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50dbb60e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\components\\\\friend-pk-waiting.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] friend-pk-waiting.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-50dbb60e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-50dbb60e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/friend-pk-waiting.vue\n// module id = 192\n// module chunks = 3","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-50dbb60e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/components/friend-pk-waiting.vue\n// module id = 193\n// module chunks = 3","<template>\n  <div>\n    <img id=\"bg\" src=\"/static/images/bg.png\"/>\n\n    <div class=\"head\">\n      <div id=\"user\" :style=\"'z-index:'+userIndex\">\n        <img class=\"headImage-frame\" src=\"/static/images/friendPk/Pictureframe.png\"/>\n        <img class=\"outer-frame-bg\" src=\"/static/images/friendPk/Answerprogresscircle-bg.png\"/>\n        <div class=\"inner\">\n          <img id=\"top\" src=\"/static/images/friendPk/Answerprogresscircle.png\"/>\n          <img id=\"bottom\" src=\"/static/images/friendPk/Answerprogresscircle.png\"/>\n        </div>\n        <img class=\"headImage\" id=\"userIcon\" :src=\"user.headImage\"/>\n        <span id=\"userName\">{{user.wechatName}}</span>\n        <div class=\"user-label\">\n          <img v-if=\"isCreator\" class=\"user-label-img\" src=\"/static/images/friendPk/Scorethelabel1.png\"/>\n          <img v-if=\"!isCreator\" class=\"user-label-img\" id=\"isNotUser\" src=\"/static/images/friendPk/Scorethelabel2.png\"/>\n          <span v-if=\"isCreator\" class=\"user-label-text\">发&nbsp;起&nbsp;者</span>\n          <span v-if=\"!isCreator\" class=\"user-label-text\">挑&nbsp;战&nbsp;者</span>\n        </div>\n      </div>\n\n      <div id=\"friend\" :style=\"'z-index:'+opponentIndex\">\n        <img class=\"headImage-frame\" src=\"/static/images/friendPk/Pictureframe.png\"/>\n        <img class=\"outer-frame-bg\" src=\"/static/images/friendPk/Answerprogresscircle-bg.png\"/>\n        <div class=\"friend-inner\">\n          <div id=\"friend-outer-frame\">\n            <img id=\"friend-outer-frame-img\" src=\"/static/images/friendPk/Answerprogresscircle.png\"/>\n          </div>\n        </div>\n        <img id=\"opponentIcon\" v-if=\"!waitFriend\" :src=\"friend.headImage\"/>\n        <span id=\"opponentName\" v-if=\"!waitFriend\">{{friend.wechatName}}</span>\n        <div class=\"friend-label\">\n          <span class=\"friend-label-text\" v-if=\"!waitFriend && isCreator\">挑&nbsp;战&nbsp;者</span>\n          <span class=\"friend-label-text\" v-if=\"!waitFriend && !isCreator\">发&nbsp;起&nbsp;者</span>\n          <img v-if=\"isCreator\" class=\"friend-label-img\" src=\"/static/images/friendPk/Scorethelabel2.png\"/>\n          <img v-if=\"!isCreator\" class=\"friend-label-img\" id=\"isNotOpponent\" src=\"/static/images/friendPk/Scorethelabel1.png\"/>\n        </div>\n      </div>\n    </div>\n\n    <img id=\"clock-headImage\" src=\"/static/images/friendPk/Clock_icon.png\"/>\n    <span id=\"time\">{{minute}}:{{second}}</span>\n    <span class=\"desc\" v-if=\"waitFriend\">等待对手加入....</span>\n    <span class=\"desc\" v-if=\"!waitFriend\">等待比赛开始....</span>\n\n    <div id=\"icons\">\n      <div id=\"giveup-div\">\n        <img @click=\"on_giveUp\" class=\"giveUp\" src=\"/static/images/friendPk/Giveup_icon.png\"/>\n        <span id=\"giveup-text\">放弃</span>\n      </div>\n      <div id=\"invite-div\">\n        <button :open-type=\"isShareable\" class=\"invite\">\n          <img src=\"/static/images/friendPk/Invitation_icon.png\" class=\"invite_img\"/>\n        </button>\n        <span id=\"invite-text\">邀请</span>\n      </div>\n    </div>\n\n    <img v-if=\"!waitFriend && isCreator\" @click=\"on_beginBattle\" class=\"startBtn\" src=\"/static/images/friendPk/Startfighting_btn.png\"/>\n  </div>\n</template>\n\n<script>\nimport wxs from \"../utils/wx\";\nexport default {\n  props: {\n    user: {\n      type: Object,\n      required: true\n    },\n    friend: {\n      type: Object,\n      required: true\n    },\n    isCreator: {\n      type:Boolean,\n      required: true\n    },\n    waitFriend:{\n      type:Boolean,\n      required:true\n    },\n    matchId:{\n      type:String,\n      required:true\n    }\n  },\n  data() {\n    return {\n      timeOut: false, //监控倒计时\n      interval: null,\n      minute: \"\",\n      second: \"\"\n    };\n  },\n  onLoad() {\n    wxs.showShareMenu(true);\n    console.log(this.friend);\n  },\n  created() {\n    //每次进入页面状态重置\n    clearInterval(this.interval);\n    this.minute = \"09\";\n    this.second = \"59\";\n    this.timeOut = false;\n    this.setClock();\n  },\n  watch: {\n    timeOut() {\n      if (this.timeOut) {\n        clearInterval(this.interval);\n        this.$emit(\"waitTimeOut\");\n      }\n    }\n  },\n  computed: {\n    //用户完善样式，决定图片重叠关系\n    userIndex() {\n      return this.isCreator ? 1 : -1;\n    },\n    opponentIndex() {\n      return this.isCreator ? -1 : 1;\n    },\n    //若好友已进入，则无法再进行邀请\n    isShareable() {\n      //好友未进入且战局已创建则可以分享，否则不能分享\n      return this.waitFriend && this.matchId.length > 0? \"share\" : \"\";\n    }\n  },\n  methods: {\n    //倒计时样式控制\n    setClock() {\n      this.interval = setInterval(() => {\n        if (parseInt(this.second) > 10) {\n          this.second = parseFloat(this.second) - 1;\n        } else if (parseInt(this.second) > 0) {\n          this.second = \"0\" + (parseFloat(this.second) - 1);\n        } else if (parseInt(this.minute) > 0) {\n          this.minute = \"0\" + (parseInt(this.minute) - 1);\n          this.second = \"59\";\n        } else {\n          this.timeOut = true;\n        }\n      }, 1000);\n    },\n    //用户放弃战局\n    on_giveUp() {\n      if (this.isCreator) clearInterval(this.interval);\n      this.$emit(\"giveUpBattle\");\n    },\n    on_beginBattle() {\n      clearInterval(this.interval);\n      this.$emit(\"beginBattle\");\n    },\n  }\n};\n</script>\n\n<style scoped>\n#time {\n  position: absolute;\n  top: 21%;\n  left: 45%;\n  font-size: 16px;\n  color: white;\n}\n\n#clock-headImage {\n  position: absolute;\n  top: 21.7%;\n  left: 40%;\n  width: 12px;\n  height: 12px;\n}\n\n.desc {\n  position: absolute;\n  top: 8%;\n  left: 38%;\n  font-size: 14px;\n  color: white;\n  animation: zoomOut 0.5s;\n}\n\n.giveUp,\n.invite_img {\n  width: 30px;\n  height: 30px;\n  border: none;\n}\n\n.giveUp {\n  position: absolute;\n  top: 20%;\n  left: 25%;\n}\n\n.invite {\n  position: absolute;\n  top: 20%;\n  left: 15%;\n}\n\n#giveup-div {\n  position: relative;\n  float: left;\n  width: 75px;\n  height: 75px;\n  border-radius: 50%;\n  background: rgb(254, 110, 116);\n}\n\n#invite-div {\n  position: relative;\n  float: right;\n  width: 75px;\n  height: 75px;\n  border-radius: 50%;\n  background: rgb(29, 218, 251);\n  animation: shake 1.5s infinite;\n}\n\n#giveup-text,\n#invite-text {\n  font-size: 13px;\n  font-weight: bold;\n  color: white;\n  position: absolute;\n  left: 30%;\n  top: 65%;\n}\n\n.invite {\n  border: 0 solid #000;\n  background: transparent;\n}\n\n.invite::after {\n  border: 0;\n}\n\n#user {\n  position: relative;\n  float: left;\n  height: 75%;\n  width: 50%;\n  animation: slideFromLeft 1s;\n  color: white;\n}\n\n#friend {\n  position: relative;\n  float: right;\n  height: 75%;\n  width: 50%;\n  animation: slideFromRight 1s;\n  color: white;\n}\n\n#userIcon,\n#opponentIcon {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: transparent;\n}\n\n#userIcon {\n  position: absolute;\n  top: 25%;\n  left: 12%;\n}\n\n.user-label-text,\n.friend-label-text {\n  font-size: 13px;\n  color: white;\n  font-weight: bold;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 35%;\n  top: 12%;\n  z-index: 2;\n}\n\n.user-label {\n  position: absolute;\n  right: -5%;\n  top: 88%;\n  width: 63%;\n  height: 44%;\n}\n\n.user-label-img {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 120px;\n  height: 30px;\n}\n\n#isNotUser {\n  top: 10%;\n  transform: rotateY(180deg);\n  height: 26px;\n}\n\n.friend-label {\n  position: absolute;\n  width: 60%;\n  height: 40%;\n  left: -2%;\n  top: 90%;\n}\n\n.friend-label-img {\n  position: absolute;\n  width: 110px;\n  height: 27px;\n  left: 0;\n  top: 0;\n}\n\n#isNotOpponent {\n  height: 30px;\n  transform: rotateY(180deg);\n}\n\n.outer-frame-bg {\n  position: absolute;\n  width: 82px;\n  height: 82px;\n}\n\n.inner {\n  position: absolute;\n  left: 6.5%;\n  width: 82px;\n  height: 82px;\n  top: 6.5%;\n}\n\n.friend-inner {\n  position: absolute;\n  right: 6.5%;\n  width: 82px;\n  height: 82px;\n  top: 6.5%;\n}\n\n#top {\n  position: absolute;\n  top: 1%;\n  left: 0;\n  width: 82px;\n  height: 41px;\n  transform: rotate(180deg);\n}\n\n#friend-outer-frame {\n  position: absolute;\n  left: 0;\n  top: 49%;\n  width: 82px;\n  height: 41px;\n  overflow: hidden;\n}\n\n#friend-outer-frame-img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 82px;\n  height: 41px;\n  /*transform: rotate(-90deg);*/\n}\n\n#user .outer-frame-bg {\n  left: 6.5%;\n}\n\n#friend .outer-frame-bg {\n  right: 6.5%;\n}\n\n#user .outer-frame-bg,\n#friend .outer-frame-bg {\n  top: 6.5%;\n}\n\n#bottom {\n  position: absolute;\n  width: 82px;\n  height: 41px;\n  top: 49%;\n  left: 0;\n}\n\n.headImage-frame {\n  position: absolute;\n  width: 65px;\n  height: 65px;\n}\n\n#user .headImage-frame {\n  left: 11%;\n  top: 17.5%;\n}\n\n#friend .headImage-frame {\n  right: 11%;\n  top: 17.5%;\n}\n\n#opponentIcon {\n  position: absolute;\n  top: 25%;\n  right: 12%;\n}\n\n#userName {\n  position: absolute;\n  top: 150%;\n  left: 15%;\n}\n\n#opponentName {\n  position: absolute;\n  top: 150%;\n  right: 15%;\n}\n\n#opponentIcon,\n#opponentName {\n  animation: zoomOut 0.5s;\n}\n\n.head {\n  position: absolute;\n  width: 100%;\n  top: 3%;\n  height: 15%;\n}\n\n.swing {\n  position: absolute;\n  top: 19%;\n  left: 10%;\n  width: 60px;\n  height: 40px;\n  animation: swing 2s infinite;\n}\n\n.wave {\n  position: absolute;\n  top: 49%;\n  left: 74%;\n  border-radius: 50%;\n  width: 5px;\n  height: 5px;\n  background: transparent;\n  border: 2px solid #fff;\n  animation: wave 2s infinite;\n  z-index: -1;\n}\n\n#icons {\n  position: absolute;\n  top: 47%;\n  height: 15%;\n  width: 60%;\n  left: 20%;\n}\n\n.startBtn {\n  position: absolute;\n  top: 72%;\n  height: 55px;\n  width: 50%;\n  left: 25%;\n  animation: zoomOut 0.5s;\n}\n\n#bg {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  z-index: -2;\n}\n\n@keyframes swing {\n  0% {\n    transform: rotate(30deg);\n  }\n  50% {\n    transform: rotate(-30deg);\n  }\n  100% {\n    transform: rotate(30deg);\n  }\n}\n\n@keyframes zoomOut {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: rotate(0);\n  }\n  25%,\n  75% {\n    transform: translateX(0);\n  }\n  35%,\n  45%,\n  55%,\n  65% {\n    transform: translateX(-5px);\n  }\n  40%,\n  50%,\n  60%,\n  70% {\n    transform: translateX(5px);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/friend-pk-waiting.vue?ce5fce74","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('img', {\n    attrs: {\n      \"id\": \"bg\",\n      \"src\": \"/static/images/bg.png\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"head\"\n  }, [_c('div', {\n    style: ('z-index:' + _vm.userIndex),\n    attrs: {\n      \"id\": \"user\"\n    }\n  }, [_c('img', {\n    staticClass: \"headImage-frame\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Pictureframe.png\"\n    }\n  }), _vm._v(\" \"), _c('img', {\n    staticClass: \"outer-frame-bg\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Answerprogresscircle-bg.png\"\n    }\n  }), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _c('img', {\n    staticClass: \"headImage\",\n    attrs: {\n      \"id\": \"userIcon\",\n      \"src\": _vm.user.headImage\n    }\n  }), _vm._v(\" \"), _c('span', {\n    attrs: {\n      \"id\": \"userName\"\n    }\n  }, [_vm._v(_vm._s(_vm.user.wechatName))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-label\"\n  }, [(_vm.isCreator) ? _c('img', {\n    staticClass: \"user-label-img\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Scorethelabel1.png\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.isCreator) ? _c('img', {\n    staticClass: \"user-label-img\",\n    attrs: {\n      \"id\": \"isNotUser\",\n      \"src\": \"/static/images/friendPk/Scorethelabel2.png\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.isCreator) ? _c('span', {\n    staticClass: \"user-label-text\"\n  }, [_vm._v(\"发 起 者\")]) : _vm._e(), _vm._v(\" \"), (!_vm.isCreator) ? _c('span', {\n    staticClass: \"user-label-text\"\n  }, [_vm._v(\"挑 战 者\")]) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    style: ('z-index:' + _vm.opponentIndex),\n    attrs: {\n      \"id\": \"friend\"\n    }\n  }, [_c('img', {\n    staticClass: \"headImage-frame\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Pictureframe.png\"\n    }\n  }), _vm._v(\" \"), _c('img', {\n    staticClass: \"outer-frame-bg\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Answerprogresscircle-bg.png\"\n    }\n  }), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), (!_vm.waitFriend) ? _c('img', {\n    attrs: {\n      \"id\": \"opponentIcon\",\n      \"src\": _vm.friend.headImage\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.waitFriend) ? _c('span', {\n    attrs: {\n      \"id\": \"opponentName\"\n    }\n  }, [_vm._v(_vm._s(_vm.friend.wechatName))]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"friend-label\"\n  }, [(!_vm.waitFriend && _vm.isCreator) ? _c('span', {\n    staticClass: \"friend-label-text\"\n  }, [_vm._v(\"挑 战 者\")]) : _vm._e(), _vm._v(\" \"), (!_vm.waitFriend && !_vm.isCreator) ? _c('span', {\n    staticClass: \"friend-label-text\"\n  }, [_vm._v(\"发 起 者\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCreator) ? _c('img', {\n    staticClass: \"friend-label-img\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Scorethelabel2.png\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.isCreator) ? _c('img', {\n    staticClass: \"friend-label-img\",\n    attrs: {\n      \"id\": \"isNotOpponent\",\n      \"src\": \"/static/images/friendPk/Scorethelabel1.png\"\n    }\n  }) : _vm._e()])])]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"id\": \"clock-headImage\",\n      \"src\": \"/static/images/friendPk/Clock_icon.png\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    attrs: {\n      \"id\": \"time\"\n    }\n  }, [_vm._v(_vm._s(_vm.minute) + \":\" + _vm._s(_vm.second))]), _vm._v(\" \"), (_vm.waitFriend) ? _c('span', {\n    staticClass: \"desc\"\n  }, [_vm._v(\"等待对手加入....\")]) : _vm._e(), _vm._v(\" \"), (!_vm.waitFriend) ? _c('span', {\n    staticClass: \"desc\"\n  }, [_vm._v(\"等待比赛开始....\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"icons\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"giveup-div\"\n    }\n  }, [_c('img', {\n    staticClass: \"giveUp\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Giveup_icon.png\",\n      \"eventid\": '0'\n    },\n    on: {\n      \"click\": _vm.on_giveUp\n    }\n  }), _vm._v(\" \"), _c('span', {\n    attrs: {\n      \"id\": \"giveup-text\"\n    }\n  }, [_vm._v(\"放弃\")])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"invite-div\"\n    }\n  }, [_c('button', {\n    staticClass: \"invite\",\n    attrs: {\n      \"open-type\": _vm.isShareable\n    }\n  }, [_c('img', {\n    staticClass: \"invite_img\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Invitation_icon.png\"\n    }\n  })]), _vm._v(\" \"), _c('span', {\n    attrs: {\n      \"id\": \"invite-text\"\n    }\n  }, [_vm._v(\"邀请\")])], 1)]), _vm._v(\" \"), (!_vm.waitFriend && _vm.isCreator) ? _c('img', {\n    staticClass: \"startBtn\",\n    attrs: {\n      \"src\": \"/static/images/friendPk/Startfighting_btn.png\",\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": _vm.on_beginBattle\n    }\n  }) : _vm._e()])\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"inner\"\n  }, [_c('img', {\n    attrs: {\n      \"id\": \"top\",\n      \"src\": \"/static/images/friendPk/Answerprogresscircle.png\"\n    }\n  }), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"id\": \"bottom\",\n      \"src\": \"/static/images/friendPk/Answerprogresscircle.png\"\n    }\n  })])\n},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"friend-inner\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"friend-outer-frame\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"id\": \"friend-outer-frame-img\",\n      \"src\": \"/static/images/friendPk/Answerprogresscircle.png\"\n    }\n  })])])\n}]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-50dbb60e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-50dbb60e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/components/friend-pk-waiting.vue\n// module id = 195\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"st-battle-main-container\"\n  }, [(_vm.step === 'A') ? _c('friendWaiting', {\n    attrs: {\n      \"user\": _vm.userInfo,\n      \"isCreator\": _vm.isCreator,\n      \"friend\": _vm.friendInfo,\n      \"matchId\": _vm.matchId,\n      \"waitFriend\": _vm.waitFriend,\n      \"eventid\": '1',\n      \"mpcomid\": '3'\n    },\n    on: {\n      \"waitTimeOut\": _vm.waitTimeOut,\n      \"giveUpBattle\": _vm.giveUpBattle,\n      \"beginBattle\": _vm.startBattle\n    }\n  }) : (_vm.step === 'A-0') ? _c('friendReady', {\n    attrs: {\n      \"userInfo\": _vm.userInfo,\n      \"opponentInfo\": _vm.friendInfo,\n      \"close\": _vm.sendMessage,\n      \"mpcomid\": '0'\n    }\n  }) : (_vm.questionIndex < 6) ? _c('battle', {\n    attrs: {\n      \"userInfo\": _vm.userInfo,\n      \"userScore\": _vm.userScore,\n      \"opponentAnswer\": _vm.opponentAnswer,\n      \"opponentInfo\": _vm.friendInfo,\n      \"question\": _vm.question,\n      \"questionIndex\": _vm.questionIndex,\n      \"nextQuestion\": _vm.sendMessage,\n      \"waitUser\": _vm.waitUser,\n      \"waitOpponent\": _vm.waitOpponent,\n      \"eventid\": '0',\n      \"mpcomid\": '1'\n    },\n    on: {\n      \"userAnswered\": _vm.changeUserAnswer,\n      \"cutdownout\": _vm.cutDownOut\n    }\n  }) : _c('friendResult', {\n    attrs: {\n      \"resultType\": true,\n      \"userInfo\": _vm.userInfo,\n      \"opponentInfo\": _vm.friendInfo,\n      \"matchId\": _vm.matchId,\n      \"userScore\": _vm.userScore,\n      \"opponentScore\": _vm.opponentScore,\n      \"userCorrectNum\": _vm.userCorrectNum,\n      \"opponentCorrectNum\": _vm.opponentCorrectNum,\n      \"userLearningPoit\": _vm.userLearningPoit,\n      \"mpcomid\": '2'\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-cec56956\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-cec56956\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/friend-pk/index.vue\n// module id = 196\n// module chunks = 3"],"sourceRoot":""}